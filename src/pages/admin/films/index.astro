---
import AdminLayout from '@/layouts/AdminLayout.astro';

// Mock data for now
const films = [
  { id: 1, name: 'Inception', origin_name: 'Inception', year: 2010, status: 'Published' },
  {
    id: 2,
    name: 'The Dark Knight',
    origin_name: 'The Dark Knight',
    year: 2008,
    status: 'Published',
  },
  { id: 3, name: 'Interstellar', origin_name: 'Interstellar', year: 2014, status: 'Draft' },
  { id: 4, name: 'Dune: Part Two', origin_name: 'Dune: Part Two', year: 2024, status: 'Published' },
  { id: 5, name: 'Oppenheimer', origin_name: 'Oppenheimer', year: 2023, status: 'Published' },
];
---

<AdminLayout title="Films Management">
  <div class="mb-6 flex items-center justify-between">
    <div class="relative w-96">
      <input
        type="text"
        placeholder="Search films..."
        class="w-full pl-10 pr-4 py-2 rounded-xl bg-neutral-900/50 border border-glass-border text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none transition-all"
      />
      <svg
        class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-secondary"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
    </div>
    <a
      href="/admin/films/new"
      class="px-4 py-2 rounded-xl bg-primary-600 hover:bg-primary-500 text-white font-medium shadow-lg shadow-primary-600/20 transition-all flex items-center gap-2"
    >
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"
        ></path>
      </svg>
      Add Film
    </a>
  </div>

  <div class="glass rounded-2xl overflow-hidden">
    <table class="w-full text-left">
      <thead class="bg-white/5 border-b border-glass-border">
        <tr>
          <th class="px-6 py-4 text-xs font-semibold text-text-secondary uppercase tracking-wider"
            >Name</th
          >
          <th class="px-6 py-4 text-xs font-semibold text-text-secondary uppercase tracking-wider"
            >Original Name</th
          >
          <th class="px-6 py-4 text-xs font-semibold text-text-secondary uppercase tracking-wider"
            >Year</th
          >
          <th class="px-6 py-4 text-xs font-semibold text-text-secondary uppercase tracking-wider"
            >Status</th
          >
          <th
            class="px-6 py-4 text-xs font-semibold text-text-secondary uppercase tracking-wider text-right"
            >Actions</th
          >
        </tr>
      </thead>
      <tbody class="divide-y divide-glass-border">
        {
          films.map((film) => (
            <tr class="hover:bg-white/5 transition-colors">
              <td class="px-6 py-4">
                <span class="font-medium text-white">{film.name}</span>
              </td>
              <td class="px-6 py-4 text-text-secondary">{film.origin_name}</td>
              <td class="px-6 py-4 text-text-secondary">{film.year}</td>
              <td class="px-6 py-4">
                <span
                  class={`px-2 py-1 rounded-full text-xs font-medium border ${
                    film.status === 'Published'
                      ? 'bg-green-500/10 text-green-400 border-green-500/20'
                      : 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'
                  }`}
                >
                  {film.status}
                </span>
              </td>
              <td class="px-6 py-4 text-right space-x-2">
                <a
                  href={`/admin/films/${film.id}`}
                  class="inline-flex p-2 rounded-lg hover:bg-white/10 text-text-secondary hover:text-primary-400 transition-colors"
                  title="Edit"
                >
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </a>
                <button
                  class="inline-flex p-2 rounded-lg hover:bg-white/10 text-text-secondary hover:text-red-400 transition-colors"
                  title="Delete"
                >
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                    />
                  </svg>
                </button>
              </td>
            </tr>
          ))
        }
      </tbody>
    </table>
  </div>
</AdminLayout>
