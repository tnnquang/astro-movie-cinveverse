---
import BaseLayout from '@/layouts/BaseLayout.astro';
---

<BaseLayout title="Admin Login | CineVerse" noindex>
  <div class="min-h-screen flex items-center justify-center relative overflow-hidden">
    <!-- Ambient Background -->
    <div class="ambient-bg">
      <div class="ambient-blob"></div>
      <div class="ambient-blob"></div>
    </div>

    <div class="w-full max-w-md p-8 glass rounded-2xl shadow-2xl relative z-10">
      <div class="text-center mb-8">
        <h1 class="font-display text-3xl font-bold text-white mb-2">Admin Login</h1>
        <p class="text-text-secondary">Enter your credentials to access the dashboard</p>
      </div>

      <form id="login-form" class="space-y-6">
        <div>
          <label for="email" class="block text-sm font-medium text-text-secondary mb-2">Email</label
          >
          <input
            type="email"
            id="email"
            class="w-full px-4 py-3 rounded-xl bg-neutral-900/50 border border-glass-border text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none transition-all"
            placeholder="admin@cineverse.com"
            required
          />
        </div>

        <div>
          <label for="password" class="block text-sm font-medium text-text-secondary mb-2"
            >Password</label
          >
          <input
            type="password"
            id="password"
            class="w-full px-4 py-3 rounded-xl bg-neutral-900/50 border border-glass-border text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none transition-all"
            placeholder="••••••••"
            required
          />
        </div>

        <div id="error-msg" class="hidden text-red-500 text-sm text-center">
          Invalid credentials
        </div>

        <button
          type="submit"
          class="w-full py-3 rounded-xl bg-primary-600 hover:bg-primary-500 text-white font-bold shadow-lg shadow-primary-600/20 transition-all transform hover:scale-[1.02]"
        >
          Sign In
        </button>
      </form>
    </div>
  </div>
</BaseLayout>

<script>
  const form = document.getElementById('login-form');
  const errorMsg = document.getElementById('error-msg');

  if (form) {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = (document.getElementById('email') as HTMLInputElement).value;
      const password = (document.getElementById('password') as HTMLInputElement).value;

      // Mock authentication
      if (email === 'admin@cineverse.com' && password === 'admin123') {
        localStorage.setItem('admin_auth', 'true');
        window.location.href = '/admin';
      } else {
        if (errorMsg) errorMsg.classList.remove('hidden');
      }
    });
  }
</script>
